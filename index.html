<!DOCTYPE html>
<html ng-app="librosApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Libros-cambio para git</title>
    <link rel="stylesheet" href="node_modules/angular-material/angular-material.min.css" />
    <link rel="stylesheet" href="src/css/index.css">
</head>
<body ng-controller="AppCtrl" ng-cloak class="ng-cloak">
    <!--Panel principal-->
    <md-toolbar class="md-primary">
        <div class="md-toolbar-tools">
            <md-button class="md-icon-button" aria-label="book">
                <md-icon ng-bind="'book'"></md-icon>
            </md-button>
            <h2>{{title}}</h2>
        </div>
    </md-toolbar>

    <!--Buscador-->
    <md-content class="md-padding">
        <md-input-container class="md-icon-float md-block flex-xs-100 flex-sm-100 flex-lg-100">
            <md-icon class="md-primary">search</md-icon>
            <input ng-model="filtername" type="text" placeholder="Buscar por nombre/curso">
        </md-input-container>

        <!--Listado de libros-->
        <md-grid-list md-cols-xs="2" md-cols-sm="5" md-cols-md="5" md-cols-gt-md="5" md-cols-gl="5" md-row-height="30px" hide-xs >
            <md-grid-tile class="md-title">Titulo</md-grid-tile>
            <md-grid-tile class="md-title">Editorial</md-grid-tile>
            <md-grid-tile class="md-title">Autor</md-grid-tile>
            <md-grid-tile class="md-title">Edición</md-grid-tile>
        </md-grid-list>

        <md-grid-list md-cols-xs="2" md-cols-sm="5" md-cols-md="5" md-cols-gt-md="5" md-cols-gl="5" md-row-height="50px"  ng-repeat="libro in libreria | filter: filtername" class="libros-app">
            <md-grid-tile  md-rowspan="1">
                {{ libro.nombre }}
            </md-grid-tile>
            <md-grid-tile  md-rowspan="1">
                {{ libro.editorial }}
            </md-grid-tile>
            <md-grid-tile  md-rowspan="1">
                {{ libro.autor }}
            </md-grid-tile>
            <md-grid-tile  md-rowspan="1">
                {{ libro.edicion }}
            </md-grid-tile>
            <md-grid-tile  md-rowspan="1" layout-align="center center">
                <md-button class="md-accent md-raised flex-5 flex-xs-100" ng-click="showConfirm($event,$index)" aria-label="$index">
                    <md-icon ng-bind="'delete_forever'"></md-icon>
                </md-button>
            </md-grid-tile>
        </md-grid-list>
        <div ng-show="show"><md-icon>info</md-icon> {{mensajeDel}} </div>
    </md-content>

    <!--Agregar nuevo libro-->
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button class="md-raised md-primary" aria-label="registro" ng-click="showPrerenderedDialog($event)">
            <md-icon>edit</md-icon>
            <span>{{ buttomTitle }}</span>
        </md-button>
    </section>

    <section style="visibility: hidden">
        <div class="md-dialog-container" id="myDialog" >
            <md-dialog layout-padding>
                <p class="md-title">Nuevo libro</p>
                <form name="formLibros" novalidate>
                    <div layout="row" layout-xs="column" >
                        <md-input-container flex>
                            <label>Titulo</label>
                            <input required name="nombreLibro" ng-model="nuevoLibro.nombre" maxlength="50" string-directive>
                        </md-input-container>
                        <md-input-container flex>
                            <label>Editorial</label>
                            <input required name="editorLibro" ng-model="nuevoLibro.editorial" maxlength="50" string-directive>
                        </md-input-container>
                        <md-input-container flex>
                            <label>Autor</label>
                            <input required name="autorLibro" ng-model="nuevoLibro.autor" maxlength="50" string-directive>
                        </md-input-container>
                        <md-input-container flex>
                            <label>Edición</label>
                            <input required name="edicionLibro" ng-model="nuevoLibro.edicion" ng-maxlength="maxlength" ng-minlength="0"  maxlength="4" number-directive>
                            <code>{{formLibros.edicionLibro.$error}}</code><br>
                        </md-input-container>
                    </div>
                    <div layout="row">
                        <md-button ng-click="saveLibro()" class="md-raised md-primary" ng-disabled="formLibros.nombreLibro.$invalid || formLibros.editorLibro.$invalid || formLibros.autorLibro.$invalid || formLibros.edicionLibro.$invalid" >Guardar</md-button>
                        <md-button ng-click="cancel()" class="md-raised md-warn"><span>Salir</span></md-button>
                    </div>
                </form>
            </md-dialog>
        </div>
    </section>

    <!-- Angular Material requires Angular.js Libraries -->
    <script src="node_modules/angular/angular.js" type="text/javascript"></script>
    <script src="node_modules/angular-animate/angular-animate.min.js" type="text/javascript"></script>
    <script src="node_modules/angular-aria/angular-aria.min.js" type="text/javascript"></script>
    <script src="node_modules/angular-messages/angular-messages.min.js" type="text/javascript"></script>

    <!-- Angular Material Library-->
    <script src="node_modules/angular-material/angular-material.min.js" type="text/javascript"></script>
    <script src="src/js/libreriaController.js" type="text/javascript"></script>
    <script src="src/js/validateDirective.js" type="text/javascript"></script>
    <script src="src/js/themeMaterialConfig.js" type="text/javascript"></script>

</body>
</html>